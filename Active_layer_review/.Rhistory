knitr::opts_chunk$set(echo = TRUE)
Dielman <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("FINAL End of Season usgs.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
Dielman.gamma <- subset(Dielman, Site=="Permafrost Plateau ")
Dielman.gamma <- subset(Dielman, Site=="Permafrost Plateau ")
Dielman.gamma$Date <- strptime(Dielman.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
Dielman.gamma$Date <- as.Date(Dielman.gamma$Date, format="%Y/%m/%d")
Dielman.gamma$month <- month(Dielman.gamma$Date)
library(lubridate)
library(ggplot2)
Dielman.gamma <- subset(Dielman, Site=="Permafrost Plateau ")
Dielman.gamma$Date <- strptime(Dielman.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
Dielman.gamma$Date <- as.Date(Dielman.gamma$Date, format="%Y/%m/%d")
Dielman.gamma$month <- month(Dielman.gamma$Date)
Dielman.g.AugThruOct <- Dielman.gamma[(Dielman.gamma$month=="8") | (Dielman.gamma$month=="9") | (Dielman.gamma$month=="10")]
View(Dielman.gamma)
Dielman.g.AugThruOct <- Dielman.gamma[(Dielman.gamma$month=="8") | (Dielman.gamma$month=="9")]
Dielman.g.AugThruOct <- Dielman.gamma[(Dielman.gamma$month==8) | (Dielman.gamma$month==9) | (Dielman.gamma$month==10)]
Dielman.g.AugThruOct <- Dielman.gamma[(Dielman.gamma$month==8) | (Dielman.gamma$month==9) | (Dielman.gamma$month==10)]
Dielman.g.AugThruOct <- subset(Dilman,gamma, month=="8")
Dielman.g.AugThruOct <- subset(Dielman,gamma, month=="8")
Dielman.g.AugThruOct <- subset(Dielman.gamma, month=="8")
Dielman.g.AugThruOct <- subset(Dielman.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, Dielman.g.AugThruOct, mean)
Dielman.gamma <- subset(Dielman, Site=="Permafrost Plateau ")
Dielman.gamma$Date <- strptime(Dielman.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
Dielman.gamma$Date <- as.Date(Dielman.gamma$Date, format="%Y/%m/%d")
Dielman.gamma$month <- month(Dielman.gamma$Date)
Dielman.g.AugThruOct <- subset(Dielman.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, Dielman.g.AugThruOct, mean)
all.AugThruOct.plot <- ggplot(Dielman.g.AugThruOct, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_point()
print(all.AugThruOct.plot)
post2015.AugSept.plot <- ggplot(subset(Dielman.g.AugSept, Year>2015), aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_line()
post2015.AugSept.plot <- ggplot(subset(Dielman.g.AugThruSept, Year>2015), aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_line()
post2015.AugSept.plot <- ggplot(subset(Dielman.g.AugThruOct, Year>2015), aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot)))
print(post2015.AugSept.plot)
post2015.AugOct.plot <- ggplot(subset(Dielman.g.AugThruOct, Year>2015), aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot)))  +
geom_line()
print(post2015.AugOct.plot)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d/%b/%y", tz="America/Anchorage")
usgs.g.Aug <- subset(usgs.gamma, format(usgs.gamma$data,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.g.Aug, mean)
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
guelph.gamma$Date <- as.Date(guelph.gamma$Date, format="%Y/%m/%d")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
gamma.AugOn.plot <- ggplot(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_point()
print(gamma.Augon.plot)
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
guelph.gamma$Date <- as.Date(guelph.gamma$Date, format="%Y/%m/%d")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
gamma.AugOn.plot <- ggplot(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_point()
print(gamma.AugOn.plot)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d/%b/%y", tz="America/Anchorage")
usgs.g.Aug <- subset(usgs.gamma, format(usgs.gamma$data,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.g.Aug, mean)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d/%b/%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$data,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
knitr::opts_chunk$set(echo = TRUE)
library(lubridate)
library(ggplot2)
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
crell.gama <- subset(crell, Site=="Pfrost")
crell.gamma <- subset(crell, Site=="Pfrost")
head(crell.gamma)
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm, color=factor(chamber))) +
geom_plot()
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm, color=factor(chamber))) +
geom_point()
print(usgs.gamma.Augon.plot)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm, color=chamber)) +
geom_point()
print(usgs.gamma.Augon.plot)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm, color)) +
geom_point()
print(usgs.gamma.Augon.plot)
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
library(lubridate)
library(ggplot2)
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d/%b/%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d/%b/%y", tz="America/Anchorage")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d-%b-%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d-%b-%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm, color=chamber)) +
geom_point()
print(usgs.gamma.Augon.plot)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm)) +
geom_point(aes(color=chamber))
print(usgs.gamma.Augon.plot)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm)) +
geom_point(aes(color=factor(chamber)))
print(usgs.gamma.Augon.plot)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm)) +
geom_point(aes(color=factor(Chamber)))
print(usgs.gamma.Augon.plot)
crell.gamma <- subset(crell, Site=="Pfrost")
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
crell.transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamme, mean)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm)) +
geom_point(aes(color=factor(Chamber)))
print(usgs.gamma.Augon.plot)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
crell.gamma.plot <- ggplot(crell.gamma, aes(x=as.POSIXct(date), y=Depth)) +
geom_point(aes(color=factor(transect)))
print(usgs.gamma.Augon.plot)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
crell.gamma.plot <- ggplot(crell.gamma, aes(x=as.POSIXct(date), y=Depth)) +
geom_point(aes(color=factor(transect)))
print(crell.gamma.plot)
knitr::opts_chunk$set(echo = TRUE)
library(lubridate)
library(ggplot2)
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
crell.gamma.plot <- ggplot(crell.gamma, aes(x=as.POSIXct(date), y=Depth)) +
geom_point(aes(color=factor(transect)))
print(crell.gamma.plot)
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
guelph.gamma$Date <- as.Date(guelph.gamma$Date, format="%Y/%m/%d")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
g.gamma.AugOn.plot <- ggplot(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_point()
print(g.gamma.AugOn.plot)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d-%b-%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm)) +
geom_point(aes(color=factor(Chamber)))
print(usgs.gamma.Augon.plot)
usgs1$source -> "USGS"
guelph$source -> "Guelph"
crell$source -> "CRELL"
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
guelph.gamma$Date <- as.Date(guelph.gamma$Date, format="%Y/%m/%d")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
g.gamma.AugOn.plot <- ggplot(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_point()
print(g.gamma.AugOn.plot)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d-%b-%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm)) +
geom_point(aes(color=factor(Chamber)))
print(usgs.gamma.Augon.plot)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
crell.gamma.plot <- ggplot(crell.gamma, aes(x=as.POSIXct(date), y=Depth)) +
geom_point(aes(color=factor(transect)))
print(crell.gamma.plot)
usgs1$source -> "USGS"
guelph$source -> "Guelph"
crell$source -> "CRELL"
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
guelph.gamma$Date <- as.Date(guelph.gamma$Date, format="%Y/%m/%d")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
g.gamma.AugOn.plot <- ggplot(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_point()
print(g.gamma.AugOn.plot)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d-%b-%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm)) +
geom_point(aes(color=factor(Chamber)))
print(usgs.gamma.Augon.plot)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
crell.gamma.plot <- ggplot(crell.gamma, aes(x=as.POSIXct(date), y=Depth)) +
geom_point(aes(color=factor(transect)))
print(crell.gamma.plot)
cg.sub <- data.frame(crell.gamma$transect, crell.gamma$date, crell,gamma$Depth, crell.gamma$source)
cg.sub <- data.frame(crell.gamma$transect, crell.gamma$date, crell.gamma$Depth, crell.gamma$source)
usgs1$source -> c("USGS")
usgs1$source -> "USGS"
guelph$source -> "Guelph"
crell$source -> "CRELL"
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
usgs1$source -> "USGS"
usgs1["source"] -> "USGS"
usgs1$source -> "USGS"
usgs1$temp-> "USGS"
usgs1$source -> 'USGS'
usgs()
print(USGS)
source1 <- "USGS"
usgs1$source <- cbind(source1)
help(cbind)
cbind(usgs1, source="USGS")
usgs1 <- cbind(usgs1, source="USGS")
usgs1 <- cbind(usgs1, source="USGS")
guelph <- cbind(guelph, source="Guelph")
crell <- cbind(crell, source="CRELL)"
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
usgs1 <- cbind(usgs1, source="USGS")
guelph <- cbind(guelph, source="Guelph")
crell <- cbind(crell, source="CRELL")
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%d/%b/%y", tz="America/Anchorage")
guelph.gamma$Date <- as.Date(guelph.gamma$Date, format="%Y/%m/%d")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
g.gamma.AugOn.plot <- ggplot(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot))) +
geom_point()
print(g.gamma.AugOn.plot)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d-%b-%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
usgs.gamma.Augon.plot <- ggplot(usgs.gamma.AugOn, aes(x=as.POSIXct(date), y=AL_cm)) +
geom_point(aes(color=factor(Chamber)))
print(usgs.gamma.Augon.plot)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
crell.gamma.plot <- ggplot(crell.gamma, aes(x=as.POSIXct(date), y=Depth)) +
geom_point(aes(color=factor(transect)))
print(crell.gamma.plot)
cg.sub <- data.frame(crell.gamma$transect, crell.gamma$date, crell.gamma$Depth, crell.gamma$source)
gg.sub <- data.frame(guelph.gamma$Treatment, guelph.gamma$Date, guelph.gamma$Ice_Depth_cm, guelph.gamma$source)
usgs.sub <- data.frame(usgs.gamma$Chamber, usgs.gamma$date, usgs.gamma$AL_cm, usgs.gamma$source)
same.names <- function(df) {
names(df)[1] <- "location"
names(df)[2] <- "date"
names(df)[3] <- "depth"
names(df)[4] <- "source"
return(df)
}
cg.sub <-same.names(cg.sub)
gg.sub <-same.names(gg.sub)
usgs.sub <- same.names(usgs.sub)
all.gamma <- rbind(cg.sub, gg.sub, usgs.sub)
all.plot <- ggplot(all.gamma, aes(x=as.POSIXct(date), y=depth)) +
geom_point(aes(color=factor(source)))
print(all.plot)
knitr::opts_chunk$set(echo = TRUE)
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
guelph <- cbind(guelph, source="Guelph")
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%m/%d/%Y", tz="America/Anchorage")
guelph.gamma$Date <- as.Date(guelph.gamma$Date, format="%Y/%m/%d")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%m/%d/%Y", tz="America/Anchorage")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%m/%d/%Y", tz="America/Anchorage")
guelph.gamma$month <- month(guelph.gamma$Date)
library(lubridate)
library(ggplot2)
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%m/%d/%Y", tz="America/Anchorage")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
guelph$Date <- strptime(guelph$Date, format="%m/%d/%Y", tz="America/Anchorage")
lookup <- read.csv("raw_data/guelph_lookup.csv",header=TRUE)
library(dplyr)
library(tidyr)
guelph %>%
gather(key = c("Treatment", "Plot")) %>%
left_join(lookup, by = c("Treatment", "Plot")) %>%
spread(key = c("Treatment", "Plot"), value = new_plot)
guelph <- left_join(guelph, lookup, by = c("Treatment", "Plot"))
knitr::opts_chunk$set(echo = TRUE)
library(lubridate)
library(ggplot2)
library(dplyr)
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
guelph <- cbind(guelph, source="Guelph")
guelph$Date <- strptime(guelph$Date, format="%m/%d/%Y", tz="America/Anchorage")
lookup <- read.csv("raw_data/guelph_lookup.csv",header=TRUE)
guelph$new.plot <- lapply(1:nrow(guelph), function(x) {
lookup[which(lookup$PLot == guelph$Plot & lookup$Treatment == guelph$Treatment[x, get("new_plot")]), ]
})
guelph$new.plot <- lapply(1:nrow(guelph), function(x) {
lookup[which(lookup$Treatment == guelph$Treatment & lookup$number = guelph$Plot[x, get(lookup$new_plot)]), ]
guelph$new.plot <- lapply(1:nrow(guelph), function(x) {
lookup[which(lookup$Treatment == guelph$Treatment & lookup$number == guelph$Plot[x, get(lookup$new_plot)]), ]
})
guelph$new.plot <- lapply(1:nrow(guelph), function(Treatment, Plot) {
lookup[which(lookup$Treatment == Treatment & lookup$number == Plot[x, get(lookup$new_plot)]), ]
})
guelph$new.plot <- lapply(1:nrow(guelph), function(x) {
lookup[which(lookup$Treatment == guelph[x, get("Treatment")] & lookup$number == guelph[x, get("Plot")]), ]
})
guelph$new.plot <- lapply(1:nrow(guelph), function(x) {
lookup[which(lookup$Treatment == guelph[x, get(guelph$Treatment)] & lookup$number == guelph[x, get(guleph$Plot)]), ]
})
knitr::opts_chunk$set(echo = TRUE)
library(lubridate)
library(ggplot2)
library(dplyr)
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
usgs1 <- cbind(usgs1, source="USGS")
guelph <- cbind(guelph, source="Guelph")
crell <- cbind(crell, source="CRELL")
lookup <- read.csv("raw_data/guelph_lookup.csv",header=TRUE)
guelph$new.plot <- lapply(1:nrow(guelph), function(x) {
lookup[which(lookup$Treatment == guelph[x, get(guelph$Treatment)] & lookup$number == guelph[x, get(guleph$Plot)]), ]
})
install.packages("fuzzyjoin")
library(fuzzyjoin)
library(tidyverse)
lookup <- read.csv("raw_data/guelph_lookup.csv",header=TRUE)
guelph$new.plot <- left_join(guelph, .lookup, by = c("Treatment", "Plot"))
guelph$new.plot <- left_join(guelph, lookup, by = c("Treatment", "Plot"))
lookup$Plot <- as.character(lookup$Plot)
guelph$new.plot <- left_join(guelph, lookup, by = c("Treatment", "Plot"))
left_join(guelph, lookup, by = c("Treatment", "Plot"))
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
guelph <- cbind(guelph, source="Guelph")
left_join(guelph, lookup, by = c("Treatment", "Plot"))
left_join(guelph, lookup, by = c("Treatment" = "Treatment", "Plot" = "Plot"))
guelph2 <- left_join(guelph, lookup, by = c("Treatment" , "Plot"))
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
guelph <- cbind(guelph, source="Guelph")
guelph <- left_join(guelph, lookup, by = c("Treatment" , "Plot"))
write.csv(guelph, "guelph_test.csv")
if(guelph$new_plot == "NA") {guelph$new_plot == guelph$Plot}
guelph$new_plot2 <- ifelse(guelph$new_plot == "NA",guelph$new_plot == guelph$Plot,guelph$Plot)
guelph$new_plot2 <- ifelse(guelph$new_plot == "NA",guelph$new_plot == guelph$Plot,guelph$new_plot)
write.csv(guelph, "guelph_test.csv")
print(guelph[812,9])
guelph$new_plot2 <- ifelse(is.na(guelph$new_plot),guelph$new_plot == guelph$Plot,guelph$new_plot)
print(guelph[812,9])
print(guelph[812,10])
guelph$new_plot2 <- ifelse(is.na(guelph$new_plot),guelph$Plot,guelph$new_plot)
print(guelph[812,10])
write.csv(guelph, "guelph_test.csv")
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%m/%d/%Y", tz="America/Anchorage")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
g.gamma.AugOn.plot <- ggplot(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(Plot)))
+
geom_point()
g.gamma.AugOn.plot <- ggplot() +
geom_point(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(new_plot2)))
knitr::opts_chunk$set(echo = TRUE)
library(lubridate)
library(ggplot2)
library(dplyr)   #left_join
guelph <- read.csv("raw_data/Seasonal Thaw Depth Data Dielman.csv",header=TRUE)
usgs1 <- read.csv("raw_data/FINAL End of Season usgs.csv",header=TRUE)
crell <- read.csv("raw_data/douglas APEX ERT lines thaw depths October 2017.csv", header=TRUE)
usgs1 <- cbind(usgs1, source="USGS")
guelph <- cbind(guelph, source="Guelph")
crell <- cbind(crell, source="CRELL")
lookup <- read.csv("raw_data/guelph_lookup.csv",header=TRUE)
lookup$Plot <- as.character(lookup$Plot)
guelph <- left_join(guelph, lookup, by = c("Treatment" , "Plot"))
guelph$new_plot2 <- ifelse(is.na(guelph$new_plot),guelph$Plot,guelph$new_plot)
guelph.gamma <- subset(guelph, Site=="Permafrost Plateau ")
guelph.gamma$Date <- strptime(guelph.gamma$Date, format="%m/%d/%Y", tz="America/Anchorage")
guelph.gamma$month <- month(guelph.gamma$Date)
guelph.gamma.AugOn <- subset(guelph.gamma, month=="8" | month=="9" | month=="10")
aggregate(Ice_Depth_cm ~ Year, guelph.gamma.AugOn, mean)
g.gamma.AugOn.plot <- ggplot() +
geom_point(guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(new_plot2)))
g.gamma.AugOn.plot <- ggplot() +
geom_point(data=guelph.gamma.AugOn, aes(x=as.POSIXct(Date), y=Ice_Depth_cm, color=factor(new_plot2)))
print(g.gamma.AugOn.plot)
all.plot <- ggplot(all.gamma, aes(x=as.POSIXct(date), y=depth)) +
geom_point(aes(color=factor(source))) +
labs("Entire growing seasons")
all.plot <- ggplot(data=all.gamma, aes(x=as.POSIXct(date), y=depth)) +
geom_point(aes(color=factor(source))) +
labs("Entire growing seasons")
all.gamma <- rbind(cg.sub, gg.sub, usgs.sub)
usgs.gamma <- subset(usgs1, usgs1$Treatment == "forest")
usgs.gamma$date <- strptime(usgs.gamma$date, format="%d-%b-%y", tz="America/Anchorage")
usgs.gamma.AugOn <- subset(usgs.gamma, format(usgs.gamma$date,"%b")=="Aug" | format(usgs.gamma$date,"%b")=="Sept")
aggregate(AL_cm ~ year, usgs.gamma.AugOn, mean)
crell.gamma <- subset(crell, Site=="Pfrost")
#extract date from timestamp
crell.gamma$date <-substr(crell.gamma$DateTime, 1, 10)
crell.gamma$transect <- substr(crell.gamma$Name, 4,5)
crell.gamma$year <- year(crell.gamma$date)
aggregate(Depth ~ transect, crell.gamma, mean)
crell.gamma$date <- as.POSIXct(crell.gamma$date, "%Y-%m-%d", tz="America/Anchorage")
cg.sub <- data.frame(crell.gamma$transect, crell.gamma$date, crell.gamma$Depth, crell.gamma$source)
gg.sub <- data.frame(guelph.gamma$Treatment, guelph.gamma$Date, guelph.gamma$Ice_Depth_cm, guelph.gamma$source)
usgs.sub <- data.frame(usgs.gamma$Chamber, usgs.gamma$date, usgs.gamma$AL_cm, usgs.gamma$source)
same.names <- function(df) {
names(df)[1] <- "location"
names(df)[2] <- "date"
names(df)[3] <- "depth"
names(df)[4] <- "source"
return(df)
}
cg.sub <-same.names(cg.sub)
gg.sub <-same.names(gg.sub)
usgs.sub <- same.names(usgs.sub)
all.gamma <- rbind(cg.sub, gg.sub, usgs.sub)
august.on <- subset(all.gamma, month(date)>=8)
aug.plot <- ggplot(data=august.on, aes(x=as.POSIXct(date), y=depth)) +
geom_point(aes(color=factor(source))) +
ggtitle("August and later")
print(aug.plot)
